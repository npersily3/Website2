<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Despicable Me & World Events Timeline</title>
  <style>
    body { margin:0; background:#FED154; font-family:sans-serif; }
    .timeline-container { position:fixed; top:60px; left:0; right:0; bottom:0; overflow:hidden; }
    .timeline { position:absolute; top:50%; left:0; height:8px; background:#0357A0; border-radius:4px; }
    .event {
      position:absolute; top:50%;
      transform:translateY(-50%);
      text-align:center; width:120px;
      cursor:pointer; z-index:2;
    }
    .event .icon { width:48px; height:48px; border-radius:50%; background:#fff; margin:0 auto 6px auto; display:flex; align-items:center; justify-content:center; font-size:2em; border:2px solid #0357A0; }
    .event .label { font-weight:bold; background:#fff7; border-radius:6px; padding:2px 6px; }
    .event .year { font-size:0.85em; color:#0357A0; }
    .zoom-controls { position:fixed; top:12px; right:32px; }
    .zoom-controls button { font-size:1.5em; margin:0 4px; background:#0357A0; color:#fff; border:none; border-radius:50%; width:38px; height:38px; cursor:pointer; }
  </style>
</head>
<body>
  <div class="zoom-controls">
    <button onclick="zoom(-1)">−</button>
    <button onclick="zoom(1)">+</button>
  </div>
  <div class="timeline-container" id="timelineContainer">
    <div class="timeline" id="timeline"></div>
    <!-- Events will be injected by JS -->
  </div>
  <script>
    // Event data and positions (spread out)
    const events = [
      { name: 'Cro Minion', icon: '🦕', year: 'Prehistoric' },
      { name: 'Minions in Egypt', icon: '👑', year: 'c.2500 BC' },
      { name: "Thirty Years' War", icon: '⚔️', year: '1618–1648' },
      { name: 'Minions & Dracula', icon: '🧛‍♂️', year: '1700s' },
      { name: 'American Revolution', icon: '🎆', year: '1775–1783' },
      { name: 'Napoleonic Wars', icon: '🎖️', year: '1803–1815' },
      { name: 'Minions & Napoleon', icon: '🇫🇷', year: '1800s' },
      { name: 'World War I', icon: '🌍', year: '1914–1918' },
      { name: 'World War II', icon: '🌎', year: '1939–1945' },
      { name: 'NFL Founded', icon: '🏈', year: '1920' },
      { name: 'Civil Rights Act', icon: '⚖️', year: '1964' },
      { name: 'First Super Bowl', icon: '🏆', year: '1967' },
      { name: 'Minions & Scarlet', icon: '💎', year: '1968' },
      { name: 'Minions meet Gru', icon: '👦', year: '1968' },
      { name: 'Vietnam War Ends', icon: '🪖', year: '1975' },
      { name: 'Minions: The Rise of Gru', icon: '🚲', year: '1976' },
      { name: 'Berlin Wall Falls', icon: '🧱', year: '1989' },
      { name: 'Despicable Me', icon: '😈', year: '2010' },
      { name: 'Short Films', icon: '🎬', year: '2010–2015' },
      { name: 'Affordable Care Act', icon: '💊', year: '2010' },
      { name: 'Despicable Me 2', icon: '👰', year: '2013' },
      { name: 'Black Lives Matter', icon: '✊🏾', year: '2013' },
      { name: 'OBJ Catch', icon: '🤯', year: '2014' },
      { name: 'Marriage Equality', icon: '🌈', year: '2015' },
      { name: 'Despicable Me 3', icon: '🕺', year: '2017' },
      { name: '#MeToo', icon: '#️⃣', year: '2017' },
      { name: 'COVID-19', icon: '🦠', year: '2020' },
      { name: 'Rise of Gru (aftermath)', icon: '🔮', year: '2022' },
      { name: 'Roe v. Wade Overturned', icon: '⚖️', year: '2022' },
      { name: 'Despicable Me 4', icon: '👶', year: '2024' },
      { name: 'Minions 3', icon: '🧨', year: '2026' },
      { name: 'Paris Olympics', icon: '🇫🇷', year: '2024' }
    ];
    const start = 40, end = 3000;
    const positions = events.map((_, i) => Math.round(start + i * (end - start) / (events.length - 1)));

    // State
    let zoomLevel = 1.0;
    let minZoom = 0.5, maxZoom = 2.5;

    function renderTimeline() {
      const container = document.getElementById('timelineContainer');
      const timeline = document.getElementById('timeline');
      // Set timeline width based on zoom
      const baseWidth = end + 60;
      const width = baseWidth * zoomLevel;
      timeline.style.width = width + 'px';
      timeline.style.left = '0px';

      // Remove old events
      container.querySelectorAll('.event').forEach(e => e.remove());

      // Decide which events to show at current zoom
      let step = 1;
      if (zoomLevel > 2.0) step = 3;
      else if (zoomLevel > 1.5) step = 2;
      // Show fewer events at high zoom
      const visibleEvents = events.filter((_, i) => i % step === 0);

      // Render events
      visibleEvents.forEach((ev, idx) => {
        // Find the original index to get correct position
        const origIdx = events.findIndex(e => e.name === ev.name);
        const x = Math.round((positions[origIdx] / baseWidth) * width);
        const div = document.createElement('div');
        div.className = 'event';
        div.style.left = x + 'px';
        div.innerHTML = `<div class="icon">${ev.icon}</div>
          <div class="label">${ev.name}<br><span class="year">${ev.year}</span></div>`;
        container.appendChild(div);
      });
    }

    function zoom(dir) {
      zoomLevel += dir * 0.2;
      zoomLevel = Math.max(minZoom, Math.min(maxZoom, zoomLevel));
      renderTimeline();
    }

    // Initial render
    renderTimeline();

    // Pan support
    let isDragging = false, startX, scrollLeft;
    const container = document.getElementById('timelineContainer');
    container.scrollLeft = 600;
    container.addEventListener('mousedown', (e) => {
      isDragging = true;
      startX = e.pageX;
      scrollLeft = container.scrollLeft;
    });
    container.addEventListener('mouseleave', () => isDragging = false);
    container.addEventListener('mouseup', () => isDragging = false);
    container.addEventListener('mousemove', (e) => {
      if (!isDragging) return;
      e.preventDefault();
      const x = e.pageX;
      const walk = (x - startX) * 1.2;
      container.scrollLeft = scrollLeft - walk;
    });
    // Touch support
    container.addEventListener('touchstart', function(e) {
      isDragging = true;
      startX = e.touches[0].pageX;
      scrollLeft = container.scrollLeft;
    });
    container.addEventListener('touchend', () => isDragging = false);
    container.addEventListener('touchcancel', () => isDragging = false);
    container.addEventListener('touchmove', function(e) {
      if (!isDragging) return;
      const x = e.touches[0].pageX;
      const walk = (x - startX) * 1.2;
      container.scrollLeft = scrollLeft - walk;
    });
  </script>
</body>
</html>
